<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>WebRTC, what&#39;s that? | MG Blog</title>

  <meta charset="UTF-8">
  <meta name="language" content="en">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  
  

  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

  
  
    
 
  
  
  
  
  
  
    
    <link type="text/css" rel="stylesheet" href="/css/post.min.2cb93c91050d1853bf971cc31e00122edd6e0f405aa1de3b7f8ef67ea3b5a79a.css" integrity="sha256-LLk8kQUNGFO/lxzDHgASLt1uD0Baod47f472fqO1p5o="/>
  
    
    <link type="text/css" rel="stylesheet" href="/css/custom.min.fdde0f86e0faf7ffd9473619448280730a1538785adc0e7b627c9499f55724bc.css" integrity="sha256-/d4PhuD69//ZRzYZRIKAcwoVOHha3A57YnyUmfVXJLw="/>
  
  
   
   
    

<script type="application/ld+json">
  
    {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/mridulganga.github.io\/"
      },
      "articleSection" : "blog",
      "name" : "WebRTC, what\x27s that?",
      "headline" : "WebRTC, what\x27s that?",
      "description" : "",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2020",
      "datePublished": "2020-09-04 15:42:04 \x2b0530 IST",
      "dateModified" : "2020-09-04 15:42:04 \x2b0530 IST",
      "url" : "http:\/\/mridulganga.github.io\/blog\/webrtc-basics\/",
      "wordCount" : "1019",
      "keywords" : ["Blog"]
    }
  
  </script>
</head>

<body>
  <div class="burger__container">
  <div class="burger" aria-controls="navigation" aria-label="Menu">
    <div class="burger__meat burger__meat--1"></div>
    <div class="burger__meat burger__meat--2"></div>
    <div class="burger__meat burger__meat--3"></div>
  </div>
</div>
 

  <nav class="nav" id="navigation">
  <ul class="nav__list">
    
    
      <li>
        <a  href="/">@mg</a>
      </li>
    
      <li>
        <a  class="active"
         href="/blog">blog</a>
      </li>
    
  </ul>
</nav>


  <main>
    
    

    <div class="flex-wrapper">
      <div class="post__container">
        <div class="post">
          <header class="post__header">
            <h1 id="post__title">WebRTC, what&#39;s that?</h1>
            <time datetime="2020-09-04 15:42:04 &#43;0530 IST" class="post__date">Sep 4 2020</time> 
          </header>
          <article class="post__content">
              
<p><strong>Authors</strong>: <a href="http://github.com/iresharma/">Iresh Sharma</a> &amp; <a href="/">Mridul Ganga</a></p>
<h2 id="what-is-webrtc">What is WebRTC?<a class="anchor" href="#what-is-webrtc">#</a></h2>
<p>WebRTC stands for web real-time communication, it is an open standard for real-time communications over the internet. With Webrtc you can implement realtime video, voice and data transfer between various peers, this technology is available for almost any browser and provides native clients for most platforms including android and iOS.</p>
<h2 id="what-can-we-do-with-webrtc">What can we do with WebRTC?<a class="anchor" href="#what-can-we-do-with-webrtc">#</a></h2>
<p>The application of WebRTC can range from anywhere between a simple chatting application, to full-fledged audio and video conferencing applications, file transfer applications etc.</p>
<h3 id="how-do-things-work">How do things work?<a class="anchor" href="#how-do-things-work">#</a></h3>
<p>Behind the scenes WebRTC is a pretty complex technology, given the scope of this article, we would talk only about the basic terminology, i.e, the things youâ€™d definitely need to know when you start with webRTC.</p>
<h2 id="peer-to-peer-connections">Peer to Peer connections<a class="anchor" href="#peer-to-peer-connections">#</a></h2>
<p>Two peers transfer information with each other without involvement of a server. webRTC has many implementations but realtime p2p video and audio (multimedia connection) are the most widely used. We will talk about how it happens below.</p>
<h2 id="stun-servers">STUN Servers<a class="anchor" href="#stun-servers">#</a></h2>
<p>Stun stands for <code>Session Traversal of User Datagram Protocol [UDP] Through Network Address Translators [NATs]</code>. To understand what stun is and how it works, we need to know more about NAT and the way web servers send data back to our machines.</p>
<h3 id="nat">NAT<a class="anchor" href="#nat">#</a></h3>
<p><code>Network Address Translator</code>. The number of devices connected to the internet are far more than the available IP addresses. To deal with this problem, NAT was introduced. The NAT is part of a router. Each router has a single public IP and can have multiple devices connected to it. All the devices are assigned a private IP using DHCP or manually. These private IPs are not accessible from the internet. To reach the devices under a NAT, the sender must use the public IP of the router along with a PORT. This port helps the router figure who the receiver is.</p>
<p><strong>Example</strong> -
A device joins a router network and gets a private IP <code>10.0.0.2</code> The router internally makes a NAT Table with an entry for the device private IP and external router port mapping</p>
<p><code>Device 1 (device) - 10.0.0.2 (private ip) - 27098 (public port)</code></p>
<p>The router has a public IP <code>15.10.20.30</code>
Now, if we want to access device 1 from the internet, we will use the IP - <code>15.10.20.30</code> and the port <code>27098</code>. This request will arrive at the router and router will goto the NAT table and find the port, where we will get the private IP of the device 1. So the router will forward the request to device 1.</p>
<h3 id="nat-traversal">NAT Traversal<a class="anchor" href="#nat-traversal">#</a></h3>
<p>Imagine there are two devices using their own routers. Both will be under a NAT layer. The <code>device 1 under router 1</code> wants to reach the <code>device 2 under router 2</code>. To do this, we should make a route like the following.</p>
<p><code>Device1 (private ip) -&gt; router1 (public ip and port) -&gt; router2 (public ip and port) -&gt; device 2 (private ip)</code></p>
<p>The above route is how our data will traverse the multiple NAT layers of the internet. This process is done internally by our browsers and routers and other network devices on the internet.</p>
<h3 id="how-stun-uses-nat-traversal">How STUN uses NAT Traversal?<a class="anchor" href="#how-stun-uses-nat-traversal">#</a></h3>
<p>The STUN server is a publicly hosted server. When a peer makes a request to the STUN server, the stun server gets to know the path that the data will follow to reach the peer. It returns this path (public address of the peer) back to the peer. So, now the peer is aware of the path using which it can be accessed from anywhere on the internet. The peer can later send others this path and establish a P2P connection.</p>
<h2 id="turn-server">TURN Server<a class="anchor" href="#turn-server">#</a></h2>
<p>TURN stands for <code>Traversal Using Relay NAT</code>. We looked at how STUN works. In case of TURN, we have a public TURN server which acts as a relay. We do not send the data directly between the peers, but rather through the TURN server. Device 1 wants to send data to Device 2. It will contact the TURN server with the data and address of device 2. The TURN server will then forward the request to the device 2. TURN server is used for more secure data connections and there is less chance of data loss as compared to the STUN server. TURN can be used for file and information transfer whereas STUN is used for lossy audio and video transfers.</p>
<h2 id="signaling">Signaling<a class="anchor" href="#signaling">#</a></h2>
<p>To initiate communication between two peers, we need a middleware signaling server. We share information i.e. Offer and Answer which are SDP (<code>Session Description Protocol</code>) explained below. Peer A sends an offer to Peer B using a signal channel. Peer B receives the offer and sends an Answer to Peer A using the signal channel.</p>
<h3 id="session-description">Session Description<a class="anchor" href="#session-description">#</a></h3>
<p>The session description has the configuration of the peer (webrtc endpoint). It has information like - media type, format, transfer protocol, endpoint address (IP, PORT) etc. This information is transferred using the SDP.
During signaling Peer A creates a SD called offer which is sent to Peer B. Peer B creates a SD called answer and sends it back to Peer A. This way both peers share information needed to exchange media and data. This transfer of data is handled using ICE (Interactive Connectivity Establishment) - more about this below. After this, each peer keeps a local (itself) and remote (peer b) description.</p>
<h3 id="ice">ICE<a class="anchor" href="#ice">#</a></h3>
<p>ICE stands for <code>Interactive Connectivity Establishment</code>. This is used to share network related information which intern is used for the NAT traversal. This is used to define and use the NAT traversal path which will be used to transfer data between two peers.</p>
<h3 id="ice-candidates">ICE Candidates<a class="anchor" href="#ice-candidates">#</a></h3>
<p>Peer must exchange information about network connection to transfer data. There may be one or more routes to a peer, these are ICE candidates. ICE candidates have details of the available methods that can be used to connect to a peer. The peer proposes its best candidate first going to the worst candidate. The candidates can be UDP or TCP, but UDP is normally used, as it is faster and the media can recover from interruptions easily.</p>


              
          </article>
          

<ul class="tags__list">
    
    <li class="tag__item">
        <a class="tag__link" href="http://mridulganga.github.io/tags/webrtc/">webrtc</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="http://mridulganga.github.io/tags/tech/">tech</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="http://mridulganga.github.io/tags/p2p/">p2p</a>
    </li></ul>

 <div class="pagination">
  
    <a class="pagination__item" href="http://mridulganga.github.io/blog/webrtc-peerjs/">
        <span class="pagination__label">Previous Post</span>
        <span class="pagination__title">WebRTC using Peerjs</span>
    </a>
  

  
    <a class="pagination__item" href="http://mridulganga.github.io/blog/no-gravity/">
      <span class="pagination__label">Next Post</span>
      <span class="pagination__title" >What if there was no Gravity?</a>
    </a>
  
</div>

          <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "mridulganga-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          <footer class="post__footer">
            


<div class="social-icons">
  
     
    
      <a class="social-icons__link" title="Gitlab"
         href="https://gitlab.com/mridulganga"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('http://mridulganga.github.io/svg/gitlab.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="GitHub"
         href="https://github.com/mridulganga"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('http://mridulganga.github.io/svg/github.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="Instagram"
         href="https://www.instagram.com/mridulkepler"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('http://mridulganga.github.io/svg/instagram.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="Linkedin"
         href="https://www.linkedin.com/in/mridul-ganga-03326aa2"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('http://mridulganga.github.io/svg/linkedin.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="Telegram"
         href="https://t.me/mridulganga"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('http://mridulganga.github.io/svg/telegram.svg')"></div>
      </a>
    
     
</div>

            <p></p>
          </footer>
          </div>
      </div>
      
      <div class="toc-container">
           <div class="toc-post-title">WebRTC, what&#39;s that?</div> 
        <nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-webrtc">What is WebRTC?</a></li>
    <li><a href="#what-can-we-do-with-webrtc">What can we do with WebRTC?</a>
      <ul>
        <li><a href="#how-do-things-work">How do things work?</a></li>
      </ul>
    </li>
    <li><a href="#peer-to-peer-connections">Peer to Peer connections</a></li>
    <li><a href="#stun-servers">STUN Servers</a>
      <ul>
        <li><a href="#nat">NAT</a></li>
        <li><a href="#nat-traversal">NAT Traversal</a></li>
        <li><a href="#how-stun-uses-nat-traversal">How STUN uses NAT Traversal?</a></li>
      </ul>
    </li>
    <li><a href="#turn-server">TURN Server</a></li>
    <li><a href="#signaling">Signaling</a>
      <ul>
        <li><a href="#session-description">Session Description</a></li>
        <li><a href="#ice">ICE</a></li>
        <li><a href="#ice-candidates">ICE Candidates</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
      
    </div>
    

  </main>

   

  
  <script src="/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js" integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr&#43;kQ=" crossorigin="anonymous"></script>
  
  
  <script src="https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js"></script>

  
  <script src="https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"
    data-autoloader-path="https://unpkg.com/prismjs@1.20.0/components/"></script>

  
    <script src="/js/table-of-contents.js"></script>
  


</body>

</html>
